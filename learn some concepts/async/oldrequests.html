<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Github Api</title>
</head>
<body>
    <button id="btn">Click here</button>
    <div id="card">
        <p></p>
        <img src="" alt="" srcset="">
    </div>
</body>
<script>
    const fetch_data = function(){
    const requestURL = "https://api.github.com/users/abhyudayapokhrel";
    const xhr = new XMLHttpRequest();
    xhr.open('GET', requestURL);
    xhr.onreadystatechange = function(){
        console.log(xhr.readyState); // tracks states as 2, 3, 4 (see mdn)
        if(xhr.readyState == 4){
            const data = JSON.parse(this.responseText)
            console.log(typeof data);
            console.log(data.followers);
            return data;
        }
    }
    xhr.send() // doesnot work until you send request duh!!
    }

    let toUse = fetch_data();
    console.log(toUse);
    // put in HTML
    const card = document.getElementById('card');
    card.innerHTML = `<img src = ${toUse.avatar_url}>`;    
</script>
</html>